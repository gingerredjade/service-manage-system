(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-40819745"],{"10c5":function(t,a,e){"use strict";var n=e("373d");e.n(n).a},"15ea":function(t,a,e){"use strict";e.r(a);e("4160"),e("c975"),e("d3b7"),e("25f0"),e("159b"),e("bc3a");var n={name:"ServiceCatalog",components:{},mounted:function(){this.findCatalogAll()},data:function(){return{loading:!1,serviceCatalogDataPremier:[],serviceCatalogData:[],searchVal:"",serviceTotalCount:0}},methods:{handleOpen:function(t,a){},handleClose:function(t,a){},handleSelect:function(t,a){console.log("handleSelect")},handleClick:function(t,a){console.log(t),alert(JSON.stringify(t))},findCatalogAll:function(){var t=this;t.loading=!0;this.$axios.get("/service/catalog/all",{params:{}}).then((function(a){if(t.serviceCatalogDataPremier=a.data.data,t.serviceCatalogData=JSON.parse(JSON.stringify(a.data.data)),null!=a.data.data&&0!==a.data.data.length){var e=t.calcServiceTotalCount(a.data.data);t.serviceTotalCount=e}t.loading=!1})).catch((function(){}))},searchFun:function(){var t=this;if(this.serviceCatalogData=JSON.parse(JSON.stringify(this.serviceCatalogDataPremier)),""===this.searchVal)this.findCatalogAll();else{var a=[];this.serviceCatalogData.forEach((function(e){var n=[];e.types.forEach((function(a){var e=[];a.svcInfo.forEach((function(a){a.svcName.toString().indexOf(t.searchVal)>=0&&e.push(a)})),e.length>0&&(a.svcInfo=e,n.push(a))})),e.types=n,e.types.length>0&&a.push(e)})),this.serviceCatalogData=a}this.serviceTotalCount=this.calcServiceTotalCount(this.serviceCatalogData)},calcServiceTotalCount:function(t){var a=0;return t.forEach((function(t){t.types.forEach((function(t){a+=t.svcInfo.length}))})),a},calcServiceNumBySubject:function(t){var a=0;return t.forEach((function(t){a+=t.svcInfo.length})),a}}},s=(e("10c5"),e("2877")),c=Object(s.a)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"test"},[e("perfect-scrollbar",{staticClass:"service-catalog-container-scrollbar"},[e("div",{staticClass:"service-catalog-container",attrs:{id:"service-catalog-container"}},[e("div",{staticClass:"service-count",model:{value:t.serviceTotalCount,callback:function(a){t.serviceTotalCount=a},expression:"serviceTotalCount"}},[e("span",[t._v("服务数量：")]),t._v(t._s(t.serviceTotalCount))]),e("el-input",{staticClass:"service-catalog-search",attrs:{placeholder:"输入服务名检索",type:"text","prefix-icon":"el-icon-search",size:"small"},on:{input:function(a){return t.searchFun()}},model:{value:t.searchVal,callback:function(a){t.searchVal=a},expression:"searchVal"}}),e("el-menu",{staticClass:"service-catalog-content",attrs:{"default-active":"1","background-color":"#1e1e2d","text-color":"#fff","active-text-color":"#409EFF"},on:{open:t.handleOpen,close:t.handleClose}},[0===t.serviceCatalogData.length?e("div",{staticClass:"search-no-data"},[t._v("未检索到相关服务")]):t._e(),t._l(t.serviceCatalogData,(function(a,n){return[a.subject?e("el-submenu",{key:n,staticClass:"service-catalog-content-subject",attrs:{index:a.subject.name}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-s-flag"}),e("span",{attrs:{title:a.subject.name}},[t._v(t._s(a.subject.name))]),e("div",{staticClass:"kind-number-wrapper"},[e("span",{staticClass:"kind-number"},[t._v(" "+t._s(t.calcServiceNumBySubject(a.types))+" ")])])]),t._l(a.types,(function(a,n){return e("el-submenu",{key:n,staticClass:"service-catalog-content-type",attrs:{index:a.type.name}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-document"}),e("span",{attrs:{title:a.type.name}},[t._v(t._s(a.type.name))]),e("div",{staticClass:"kind-number-wrapper"},[e("span",{staticClass:"kind-number"},[t._v(t._s(a.svcInfo.length))])])]),t._l(a.svcInfo,(function(n,s){return a.svcInfo&&a.svcInfo.length>0?e("el-menu-item",{key:s,staticClass:"service-catalog-content-svcinfo",attrs:{index:n.svcName},on:{click:function(a){return t.handleClick(n,s)}}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-paperclip"}),e("span",{attrs:{slot:"title",title:n.svcName},slot:"title"},[t._v(t._s(n.svcName))])])],2):t._e()}))],2)}))],2):t._e()]}))],2)],1)])],1)}),[],!1,null,null,null);a.default=c.exports},"373d":function(t,a,e){}}]);